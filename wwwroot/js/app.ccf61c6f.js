(function(e){function t(t){for(var s,i,o=t[0],c=t[1],n=t[2],p=0,d=[];p<o.length;p++)i=o[p],r[i]&&d.push(r[i][0]),r[i]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);u&&u(t);while(d.length)d.shift()();return l.push.apply(l,n||[]),a()}function a(){for(var e,t=0;t<l.length;t++){for(var a=l[t],s=!0,o=1;o<a.length;o++){var c=a[o];0!==r[c]&&(s=!1)}s&&(l.splice(t--,1),e=i(i.s=a[0]))}return e}var s={},r={app:0},l=[];function i(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=s,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(a,s,function(t){return e[t]}.bind(null,s));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var n=0;n<o.length;n++)t(o[n]);var u=c;l.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";var s=a("c21b"),r=a.n(s);r.a},"05b0":function(e,t,a){},"435a":function(e,t,a){},"45cf":function(e,t,a){},4665:function(e,t,a){"use strict";var s=a("435a"),r=a.n(s);r.a},"56d7":function(e,t,a){"use strict";a.r(t);a("e792");var s=a("2b0e"),r=a("ce5b"),l=a.n(r),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",{attrs:{id:"app"}},[a("router-view"),a("v-footer",{attrs:{app:"",color:"blue accent-2"}},[a("v-layout",{attrs:{"justify-end":""}},[a("h4",{staticClass:"white--text",attrs:{id:"tagline"}},[a("i",{staticClass:"fas fa-at"}),e._v("D2dev")])])],1)],1)},o=[],c=(a("034f"),a("2877")),n={},u=Object(c["a"])(n,i,o,!1,null,null,null);u.options.__file="App.vue";var p=u.exports,d=a("8c4f"),v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"login"}},[a("v-toolbar",{staticClass:"white--text",attrs:{fixed:"",color:"blue accent-2"}},[a("v-toolbar-title",[a("i",{staticClass:"fab fa-kickstarter"}),e._v(" "+e._s(e.user.username))]),a("v-spacer"),a("v-toolbar-items",{attrs:{id:"tool-bar"}},[e.search?a("v-btn",{attrs:{dark:"",small:"",flat:""},on:{click:function(t){e.search=!e.search}}},[e._v("Clear Search")]):e._e(),e.search?e._e():a("v-form",{on:{submit:function(t){return t.preventDefault(),e.searchKeeps(t)}}},[a("v-text-field",{attrs:{clearable:"",dark:"","prepend-icon":"fas fa-search",placeholder:"Search by topic"},model:{value:e.searchTerm,callback:function(t){e.searchTerm=t},expression:"searchTerm"}},[a("i",{staticClass:"fas fa-search"})])],1),a("v-tooltip",{attrs:{bottom:""}},[a("v-btn",{attrs:{slot:"activator",dark:"",small:"",fab:"",flat:""},on:{click:function(t){e.keepForm=!e.keepForm}},slot:"activator"},[a("i",{staticClass:"material-icons"},[e._v("add_circle")])]),a("span",[e._v("New Keep")])],1),a("v-btn",{attrs:{small:"",flat:"",dark:""},on:{click:e.logout}},[e._v("Logout")])],1)],1),a("v-container",{attrs:{fluid:"","mt-5":"","mb-4":"","grid-list-sm":"","align-content-center":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",md3:""}},[a("Vaults",{attrs:{user:e.user,vaults:e.vaults}})],1),a("v-flex",{attrs:{xs12:"",md9:""}},[a("v-layout",[a("v-flex",{attrs:{xs12:"",md8:"","offset-md2":""}},[e.keepForm?a("v-card",{attrs:{color:"grey lighten-3"}},[a("v-toolbar",{staticClass:"grey darken-3 white--text"},[a("v-toolbar-title",[e._v("Add a new keep:")])],1),a("v-form",{ref:"form",staticClass:"ml-5 mr-5",on:{submit:function(t){return t.preventDefault(),e.createKeep(t)}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-text-field",{attrs:{counter:"30",rules:e.nameRules,label:"Name",required:""},model:{value:e.newKeep.Name,callback:function(t){e.$set(e.newKeep,"Name",t)},expression:"newKeep.Name"}},[a("i",{staticClass:" material-icons"},[e._v("email")])]),a("v-text-field",{attrs:{counter:"255",rules:e.descriptionRules,label:"Description",required:""},model:{value:e.newKeep.Description,callback:function(t){e.$set(e.newKeep,"Description",t)},expression:"newKeep.Description"}}),a("v-text-field",{attrs:{counter:"255",rules:e.imgRules,label:"Image URL",required:""},model:{value:e.newKeep.Img,callback:function(t){e.$set(e.newKeep,"Img",t)},expression:"newKeep.Img"}}),a("v-checkbox",{attrs:{label:"Make keep public?",value:"0",required:""},model:{value:e.newKeep.IsPrivate,callback:function(t){e.$set(e.newKeep,"IsPrivate",t)},expression:"newKeep.IsPrivate"}}),a("v-btn",{attrs:{round:"",small:"",dark:"",color:"blue accent-2",disabled:!e.valid,type:"submit"}},[e._v("Create Keep")])],1)],1):e._e()],1)],1),a("v-layout",{attrs:{row:"",wrap:""}},[e._l(e.keeps,function(t){return e.search?e._e():a("KeepView",{key:t.id,attrs:{keep:t,user:e.user,vaults:e.vaults}})}),e._l(e.searchResults,function(t){return e.search?a("KeepView",{key:t.id,attrs:{keep:t,user:e.user,vaults:e.vaults}}):e._e()})],2)],1)],1)],1)],1)},m=[],f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[a("v-card",[a("v-img",{attrs:{src:e.keep.img}}),a("v-card-text",{staticClass:"grey lighten-3"},[a("i",{staticClass:"fas fa-thumbs-up"}),e._v(" "+e._s(e.keep.views)+"    \n      "),a("i",{staticClass:"fas fa-plus-circle"}),e._v(" "+e._s(e.keep.keeps)+"    \n      "),a("i",{staticClass:"fas fa-share-alt"}),e._v(" "+e._s(e.keep.shares)+"\n    ")]),a("v-card-title",{attrs:{"primary-title":""}},[a("div",{staticClass:"text-box"},[a("h3",{staticClass:"headline mb-0"},[e._v(e._s(e.keep.name))]),a("div",[e._v(e._s(e.keep.description))])])]),a("v-card-actions",{staticClass:"grey lighten-3",attrs:{id:"action-bar"}},[e.keep.userId!=e.user.id?a("v-tooltip",{attrs:{bottom:""}},[a("v-btn",{attrs:{slot:"activator",small:"",fab:"",flat:"",color:"purple accent-2"},on:{click:function(t){e.likeKeep(e.keep)}},slot:"activator"},[a("i",{staticClass:"material-icons"},[e._v("thumb_up")])]),a("span",[e._v("Like Keep")])],1):e._e(),e.keep.isPrivate?a("v-tooltip",{attrs:{bottom:""}},[a("v-btn",{attrs:{slot:"activator",small:"",fab:"",flat:"",color:"purple accent-2"},on:{click:function(t){e.makePublic(e.keep)}},slot:"activator"},[a("i",{staticClass:"material-icons"},[e._v("public")])]),a("span",[e._v("Make keep public")])],1):e._e(),e.keep.isPrivate?e._e():a("v-tooltip",{attrs:{bottom:""}},[a("v-btn",{attrs:{slot:"activator",small:"",fab:"",flat:"",color:"purple accent-2"},on:{click:function(t){e.smVisible=!e.smVisible}},slot:"activator"},[a("i",{staticClass:"material-icons"},[e._v("share")])]),a("span",[e._v("Share Keep")])],1),e.user.id==e.keep.userId&&1==e.keep.isPrivate?a("v-tooltip",{attrs:{bottom:""}},[a("v-btn",{attrs:{slot:"activator",small:"",fab:"",flat:"",color:"purple accent-2"},on:{click:function(t){e.deleteKeep(e.keep)}},slot:"activator"},[a("i",{staticClass:"material-icons"},[e._v("delete_forever")])]),a("span",[e._v("Delete Keep")])],1):e._e(),a("v-menu",{attrs:{"offset-y":""}},[a("v-btn",{attrs:{slot:"activator",small:"",fab:"",flat:"",color:"purple accent-2"},slot:"activator"},[a("i",{staticClass:"material-icons"},[e._v("add_circle")])]),a("v-list",{staticClass:"grey lighten-3"},[a("v-list-tile",{staticClass:"blue--text font-weight-bold"},[a("v-list-tile-title",[e._v("Add to Vault:")])],1),a("hr"),e._l(e.vaults,function(t){return a("v-list-tile",{key:t.id,on:{click:function(a){e.addKeepToVault(e.keep,t.id)}}},[a("v-list-tile-title",[e._v(e._s(t.name))])],1)})],2)],1)],1),e.smVisible?a("v-card-actions",{staticClass:"grey lighten-3",attrs:{id:"media-bar"}},[a("v-btn",{attrs:{small:"",fab:"",flat:"",color:"purple accent-2"},on:{click:function(t){e.shareKeep(e.keep,"facebook")}}},[a("i",{staticClass:"fab fa-facebook-square large-font"})]),a("v-btn",{attrs:{small:"",fab:"",flat:"",color:"purple accent-2"},on:{click:function(t){e.shareKeep(e.keep,"instagram")}}},[a("i",{staticClass:"fab fa-instagram large-font"})]),a("v-btn",{attrs:{small:"",fab:"",flat:"",color:"purple accent-2"},on:{click:function(t){e.shareKeep(e.keep,"email")}}},[a("i",{staticClass:"far fa-envelope large-font"})])],1):e._e()],1)],1)},h=[],b={name:"KeepView",data(){return{smVisible:!1}},props:["keep","user","vaults"],methods:{deleteKeep(e){this.$store.dispatch("deleteKeep",{Id:e.id,UserId:e.userId,IsPrivate:e.isPrivate})},addKeepToVault(e,t){this.$store.dispatch("addKeepToVault",{vaultAdd:{VaultId:t,KeepId:e.id,UserId:this.user.id},keepUpdate:e})},makePublic(e){e.isPrivate=0,this.$store.dispatch("updateKeep",e)},likeKeep(e){e.views++,this.$store.dispatch("updateKeep",e)},shareKeep(e,t){e.shares++,this.$store.dispatch("updateKeep",e),this.smVisible=!1}},computed:{}},g=b,k=(a("c419"),Object(c["a"])(g,f,h,!1,null,null,null));k.options.__file="KeepView.vue";var K=k.exports,_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"grey lighten-3 blue--text"},[a("h3",[e._v("My Vaults")]),a("v-expansion-panel",{attrs:{popout:""}},e._l(e.vaults,function(t){return a("v-expansion-panel-content",{key:t.id},[a("div",{staticClass:"blue--text",attrs:{slot:"header"},slot:"header"},[e._v(e._s(t.name))]),a("v-card",[a("hr"),a("v-card-text",[e._v(e._s(t.description))]),a("v-card-actions",{staticClass:"grey lighten-3",attrs:{id:"action-bar"}},[a("v-dialog",{attrs:{width:"700"},model:{value:t.dialog,callback:function(a){e.$set(t,"dialog",a)},expression:"vault.dialog"}},[a("v-btn",{attrs:{slot:"activator",small:"",fab:"",flat:"",color:"purple accent-2"},on:{click:function(a){e.setActiveVault(t.id)}},slot:"activator"},[a("i",{staticClass:"material-icons"},[e._v("expand_more")])]),a("v-card",[a("v-card-title",{staticClass:"blue accent-2 white--text",attrs:{"primary-title":""}},[a("h2",[e._v(e._s(t.name))]),a("v-spacer"),a("i",{staticClass:"material-icons clickable",on:{click:function(e){t.dialog=!1}}},[e._v("close")])],1),a("v-container",{attrs:{"grid-list-sm":""}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},e._l(e.vaultKeeps,function(t){return a("VKView",{key:t.id,attrs:{keep:t,user:e.user,activeVaultId:e.activeVaultId}})}))],1)],1)],1),a("v-btn",{attrs:{small:"",fab:"",flat:"",color:"purple accent-2"},on:{click:function(a){e.deleteVault(t)}}},[a("i",{staticClass:"material-icons"},[e._v("delete_forever")])])],1)],1)],1)})),a("v-tooltip",{attrs:{bottom:""}},[a("v-btn",{attrs:{slot:"activator",small:"",fab:"",color:"blue accent-2"},on:{click:function(t){e.vaultForm=!e.vaultForm}},slot:"activator"},[a("i",{staticClass:"fas fa-plus white--text"})]),a("span",[e._v("Add New Vault")])],1),e.vaultForm?a("v-card",{attrs:{color:"grey lighten-3"}},[a("v-toolbar",{staticClass:"grey darken-3 white--text"},[a("v-toolbar-title",[e._v("Add New Vault:")])],1),a("v-form",{ref:"vform",staticClass:"mr-5 ml-5",on:{submit:function(t){return t.preventDefault(),e.createVault(t)}},model:{value:e.vvalid,callback:function(t){e.vvalid=t},expression:"vvalid"}},[a("v-text-field",{attrs:{counter:"30",rules:e.nameRules,label:"Name",required:""},model:{value:e.newVault.Name,callback:function(t){e.$set(e.newVault,"Name",t)},expression:"newVault.Name"}}),a("v-text-field",{attrs:{counter:"255",rules:e.descriptionRules,label:"Description",required:""},model:{value:e.newVault.Description,callback:function(t){e.$set(e.newVault,"Description",t)},expression:"newVault.Description"}}),a("v-btn",{attrs:{round:"",small:"",dark:"",disabled:!e.vvalid,color:"blue accent-2",type:"submit"}},[e._v("Create")])],1)],1):e._e()],1)},w=[],V=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-card",[a("v-img",{attrs:{src:e.keep.img}}),a("v-card-text",{staticClass:"grey lighten-3"},[a("i",{staticClass:"fas fa-thumbs-up"}),e._v(" "+e._s(e.keep.views)+"    \n      "),a("i",{staticClass:"fas fa-plus-circle"}),e._v(" "+e._s(e.keep.keeps)+"    \n      "),a("i",{staticClass:"fas fa-share-alt"}),e._v(" "+e._s(e.keep.shares)+"\n    ")]),a("v-card-title",{attrs:{"primary-title":""}},[a("div",{staticClass:"text-box"},[a("h3",{staticClass:"headline mb-0"},[e._v(e._s(e.keep.name))]),a("div",[e._v(e._s(e.keep.description))])])]),a("v-card-actions",{staticClass:"grey lighten-3",attrs:{id:"action-bar"}},[e.user.id!=e.keep.userId?a("v-tooltip",{attrs:{bottom:""}},[a("v-btn",{attrs:{slot:"activator",small:"",fab:"",flat:"",color:"purple accent-2"},on:{click:function(t){e.likeKeep(e.keep)}},slot:"activator"},[a("i",{staticClass:"material-icons"},[e._v("thumb_up")])]),a("span",[e._v("Like Keep")])],1):e._e(),e.keep.isPrivate?a("v-tooltip",{attrs:{bottom:""}},[a("v-btn",{attrs:{slot:"activator",small:"",fab:"",flat:"",color:"purple accent-2"},on:{click:function(t){e.makePublic(e.keep)}},slot:"activator"},[a("i",{staticClass:"material-icons"},[e._v("public")])]),a("span",[e._v("Make Keep Public")])],1):e._e(),e.keep.isPrivate?e._e():a("v-tooltip",{attrs:{bottom:""}},[a("v-btn",{attrs:{slot:"activator",small:"",fab:"",flat:"",color:"purple accent-2"},on:{click:function(t){e.smVisible=!e.smVisible}},slot:"activator"},[a("i",{staticClass:"material-icons"},[e._v("share")])]),a("span",[e._v("Share Keep")])],1),e.user.id==e.keep.userId&&1==e.keep.isPrivate?a("v-tooltip",{attrs:{bottom:""}},[a("v-btn",{attrs:{slot:"activator",small:"",fab:"",flat:"",color:"purple accent-2"},on:{click:function(t){e.deleteKeep(e.keep)}},slot:"activator"},[a("i",{staticClass:"material-icons"},[e._v("delete_forever")])]),a("span",[e._v("Delete Keep")])],1):e._e(),a("v-tooltip",{attrs:{bottom:""}},[a("v-btn",{attrs:{slot:"activator",small:"",fab:"",flat:"",color:"purple accent-2"},on:{click:function(t){e.removeKeepFromVault(e.keep.id)}},slot:"activator"},[a("i",{staticClass:"material-icons clickable"},[e._v("remove_circle_outline")])]),a("span",[e._v("Remove from vault")])],1)],1),e.smVisible?a("v-card-actions",{staticClass:"grey lighten-3",attrs:{id:"media-bar"}},[a("v-btn",{attrs:{small:"",fab:"",flat:"",color:"purple accent-2"},on:{click:function(t){e.shareKeep(e.keep,"facebook")}}},[a("i",{staticClass:"fab fa-facebook-square large-font"})]),a("v-btn",{attrs:{small:"",fab:"",flat:"",color:"purple accent-2"},on:{click:function(t){e.shareKeep(e.keep,"instagram")}}},[a("i",{staticClass:"fab fa-instagram large-font"})]),a("v-btn",{attrs:{small:"",fab:"",flat:"",color:"purple accent-2"},on:{click:function(t){e.shareKeep(e.keep,"email")}}},[a("i",{staticClass:"far fa-envelope large-font"})])],1):e._e()],1)],1)},x=[],I={name:"VKView",data(){return{smVisible:!1}},props:["keep","user","activeVaultId"],methods:{deleteKeep(e){this.$store.dispatch("deleteKeep",{Id:e.id,UserId:e.userId,IsPrivate:e.isPrivate})},removeKeepFromVault(e){this.$store.dispatch("removeKeepFromVault",{VaultId:this.activeVaultId,KeepId:e,UserId:this.user.id})},makePublic(e){e.isPrivate=0,this.$store.dispatch("updateKeep",e)},likeKeep(e){e.views++,this.$store.dispatch("updateKeep",e)},shareKeep(e,t){e.shares++,this.$store.dispatch("updateKeep",e),this.smVisible=!1}},computed:{}},C=I,y=(a("4665"),Object(c["a"])(C,V,x,!1,null,null,null));y.options.__file="VKView.vue";var $=y.exports,U={name:"Vaults",props:["user","vaults"],components:{VKView:$},data(){return{vaultForm:!1,newVault:{Name:"",Description:"",UserId:""},vvalid:!0,nameRules:[e=>!!e||"Name is required",e=>e&&e.length<=30||"Name cannot exceed 30 characters"],descriptionRules:[e=>e.length<=255||"Description cannot exceed 255 characters"]}},methods:{createVault(){this.$refs.vform.validate()&&(this.newVault.UserId=this.user.id,this.$store.dispatch("addVault",this.newVault),this.newVault={Name:"",Description:"",UserId:""},this.vaultForm=!1)},deleteVault(e){this.$store.dispatch("deleteVault",{Id:e.id,UserId:e.userId})},setActiveVault(e){this.activeVaultId!=e&&this.$store.dispatch("setActiveVault",e)}},computed:{vaultKeeps(){return this.$store.state.activeVaultKeeps},activeVaultId(){return this.$store.state.activeVaultId}}},P=U,R=(a("c92c"),Object(c["a"])(P,_,w,!1,null,null,null));R.options.__file="Vaults.vue";var F=R.exports,D={name:"home",mounted(){this.$store.state.user.id?(this.$store.dispatch("getKeeps"),this.$store.dispatch("getVaults"),this.$store.dispatch("getVaultKeeps")):this.$router.push({name:"login"})},data(){return{keepForm:!1,newKeep:{Name:"",Description:"",UserId:"",Img:"",IsPrivate:1},nameRules:[e=>!!e||"Name is required",e=>e&&e.length<=30||"Name cannot exceed 30 characters"],descriptionRules:[e=>e&&e.length<=255||"Description cannot exceed 255 characters"],imgRules:[e=>e.length<=255||"Image URL cannot exceed 255 characters"],valid:!0,search:!1,searchTerm:""}},components:{KeepView:K,Vaults:F},methods:{logout(){this.$store.dispatch("logout")},createKeep(){this.$refs.form.validate()&&(this.newKeep.UserId=this.user.id,this.newKeep.IsPrivate=parseInt(this.newKeep.IsPrivate),console.log(this.newKeep),this.$store.dispatch("createKeep",this.newKeep),this.newKeep={Name:"",Description:"",UserId:"",Img:"",IsPrivate:1},this.keepForm=!1)},searchKeeps(){let e="%"+this.searchTerm+"%";this.$store.dispatch("getKeepsByTopic",e),this.searchTerm="",this.search=!0}},computed:{user(){return this.$store.state.user},keeps(){return this.$store.state.keeps},vaults(){return this.$store.state.vaults},searchResults(){return this.$store.state.searchKeeps}}},N=D,q=(a("cccb"),Object(c["a"])(N,v,m,!1,null,null,null));q.options.__file="Home.vue";var A=q.exports,j=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"login"}},[a("v-toolbar",{staticClass:"white--text",attrs:{color:"blue accent-2"}},[a("v-toolbar-title",[a("i",{staticClass:"fab fa-kickstarter"}),e._v(" KeeprD2")]),a("v-spacer"),a("v-toolbar-items",[a("v-btn",{attrs:{small:"",flat:"",dark:""},on:{click:function(t){e.loginForm=!e.loginForm,e.registerForm=!1}}},[e._v("Login")]),a("v-btn",{attrs:{small:"",flat:"",dark:""},on:{click:function(t){e.registerForm=!e.registerForm,e.loginForm=!1}}},[e._v("Register")])],1)],1),e.loginForm||e.registerForm||e.browsing?e._e():a("v-container",{staticClass:"main",attrs:{fluid:"","grid-list-sm":"","align-content-center":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[a("v-card",{staticClass:"mt-5",attrs:{color:"grey lighten-3"}},[a("v-toolbar",{staticClass:"white--text",attrs:{color:"blue accent-2"}},[a("v-toolbar-title",[a("i",{staticClass:"fab fa-kickstarter"}),e._v(" KeeprD2")])],1),a("v-responsive",[a("v-img",{attrs:{src:"../assets/social-media-logos.jpg"}})],1),a("v-toolbar",{staticClass:"white--text action-bar",attrs:{color:"blue accent-2"}},[a("v-toolbar-items",[a("v-btn",{attrs:{small:"",flat:"",dark:""},on:{click:e.browseKeeps}},[e._v("Browse as a guest")])],1)],1)],1)],1)],1)],1),a("v-container",{staticClass:"main",attrs:{fluid:"","grid-list-sm":"","align-content-center":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[e.loginForm?a("v-card",{attrs:{color:"grey lighten-3"}},[a("v-toolbar",{staticClass:"grey darken-3 white--text"},[a("v-toolbar-title",[e._v("Login to existing account: ")])],1),a("v-form",{ref:"logform",staticClass:"mr-5 ml-5 pt-3",attrs:{"pl-5":"","pr-5":""},on:{submit:function(t){return t.preventDefault(),e.loginUser(t)}},model:{value:e.logValid,callback:function(t){e.logValid=t},expression:"logValid"}},[a("v-text-field",{attrs:{rules:e.emailRules,type:"email",label:"Email",required:""},model:{value:e.creds.email,callback:function(t){e.$set(e.creds,"email",t)},expression:"creds.email"}},[a("i",{staticClass:" material-icons"},[e._v("email")])]),a("v-text-field",{attrs:{rules:e.passwordRules,type:"password",label:"Password",required:""},model:{value:e.creds.password,callback:function(t){e.$set(e.creds,"password",t)},expression:"creds.password"}}),a("v-btn",{attrs:{round:"",small:"",dark:"",color:"blue accent-2",disabled:!e.logValid,type:"submit"}},[e._v("Login")])],1)],1):e._e()],1),a("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[e.registerForm?a("v-card",{attrs:{color:"grey lighten-3"}},[a("v-toolbar",{staticClass:"grey darken-3 white--text"},[a("v-toolbar-title",[e._v("Register for a new account: ")])],1),a("v-form",{ref:"regform",staticClass:"mr-5 ml-5 pt-3",on:{submit:function(t){return t.preventDefault(),e.register(t)}},model:{value:e.regValid,callback:function(t){e.regValid=t},expression:"regValid"}},[a("v-text-field",{attrs:{counter:"20",rules:e.nameRules,type:"text",label:"Username",required:""},model:{value:e.newUser.username,callback:function(t){e.$set(e.newUser,"username",t)},expression:"newUser.username"}}),a("v-text-field",{attrs:{rules:e.emailRules,type:"email",label:"Email",required:""},model:{value:e.newUser.email,callback:function(t){e.$set(e.newUser,"email",t)},expression:"newUser.email"}}),a("v-text-field",{attrs:{rules:e.passwordRules,type:"password",label:"Password",required:""},model:{value:e.newUser.password,callback:function(t){e.$set(e.newUser,"password",t)},expression:"newUser.password"}}),a("v-btn",{attrs:{round:"",small:"",dark:"",color:"blue accent-2",disabled:!e.regValid,type:"submit"}},[e._v("Register")])],1)],1):e._e()],1)],1),e.browsing?a("v-layout",{attrs:{row:"",wrap:""}},e._l(e.keeps,function(t){return a("v-flex",{key:t.id,attrs:{xs12:"",sm6:"",md3:"",keep:t}},[a("v-card",[a("v-img",{attrs:{src:t.img}}),a("v-card-text",{staticClass:"grey lighten-3"},[a("i",{staticClass:"fas fa-thumbs-up"}),e._v(" "+e._s(t.views)+"    \n            "),a("i",{staticClass:"fas fa-plus-circle"}),e._v(" "+e._s(t.keeps)+"    \n            "),a("i",{staticClass:"fas fa-share-alt"}),e._v(" "+e._s(t.shares)+"\n          ")]),a("v-card-title",{attrs:{"primary-title":""}},[a("div",{staticClass:"text-box"},[a("h3",{staticClass:"headline mb-0"},[e._v(e._s(t.name))]),a("div",[e._v(e._s(t.description))])])])],1)],1)})):e._e()],1)],1)},T=[],O={name:"login",mounted(){this.$store.dispatch("authenticate")},components:{KeepView:K},data(){return{browsing:!1,loginForm:!1,registerForm:!1,creds:{email:"",password:""},newUser:{email:"",password:"",username:""},regValid:!0,logValid:!0,nameRules:[e=>!!e||"Username is required",e=>e&&e.length<=20||"Username cannot exceed 20 characters"],emailRules:[e=>!!e||"Email is required",e=>/.+@.+/.test(e)||"Not a valid email address"],passwordRules:[e=>!!e||"Password is required",e=>e&&e.length>=6||"Password must be at least 6 characters"]}},methods:{register(){this.$refs.regform.validate()&&this.$store.dispatch("register",this.newUser)},loginUser(){this.$refs.logform.validate()&&this.$store.dispatch("login",this.creds)},browseKeeps(){this.$store.dispatch("getKeeps"),this.browsing=!0}},computed:{keeps(){return this.$store.state.keeps},userId(){return this.$store.state.user.userId}}},L=O,E=(a("d6db"),Object(c["a"])(L,j,T,!1,null,null,null));E.options.__file="Login.vue";var S=E.exports;s["default"].use(d["a"]);var M=new d["a"]({routes:[{path:"/",name:"home",component:A},{path:"/login",name:"login",component:S}]}),B=a("2f62"),J=a("bc3a"),H=a.n(J);s["default"].use(B["a"]);var z=!window.location.host.includes("localhost"),G=z?"/":"//localhost:5000/";let Q=H.a.create({baseURL:G+"Account/",timeout:3e3,withCredentials:!0}),W=H.a.create({baseURL:G+"api/",timeout:3e3,withCredentials:!0});var X=new B["a"].Store({state:{user:{},keeps:[],searchKeeps:[],vaults:[],vaultKeeps:{},activeVaultId:"",activeVaultKeeps:[]},mutations:{setUser(e,t){e.user=t},logout(e){e.user={},e.keeps=[],e.vaults=[],e.vaultKeeps={},M.push("login")},setKeeps(e,t){e.keeps=t},addKeep(e,t){e.keeps.unshift(t)},setSearchKeeps(e,t){e.searchKeeps=t,console.log("search keeps: ",t.length)},setVaults(e,t){t.forEach(e=>{e.keeps=[],e.dialog=!1}),e.vaults=t},addVault(e,t){e.vaults.unshift(t)},setActiveVaultId(e,t){e.activeVaultId=t},setVaultKeeps(e,t){t.forEach(t=>{if(e.vaultKeeps[t.vaultId]){let a=e.vaultKeeps[t.vaultId];a.push(t.keepId),s["default"].set(e.vaultKeeps,t.vaultId,a)}else s["default"].set(e.vaultKeeps,t.vaultId,[t.keepId])})},setActiveVaultKeeps(e,t){let a=[];e.vaultKeeps[t]||(e.activeVaultKeeps=[]),e.vaultKeeps[t].forEach(t=>{a.push(e.keeps.find(e=>e.id==t))}),e.activeVaultKeeps=a},updateActiveVaultKeeps(e,t){let a=e.activeVaultKeeps.findIndex(e=>e.id==t.id);a>-1&&(e.activeVaultKeeps[a]=t)},addVaultKeep(e,t){if(e.vaultKeeps[t.vaultId]){let a=e.vaultKeeps[t.vaultId];a.push(t.keepId),s["default"].set(e.vaultKeeps,t.vaultId,a)}else s["default"].set(e.vaultKeeps,t.vaultId,[t.keepId]);e.activeVaultId==t.vaultId&&e.activeVaultKeeps.push(e.keeps.find(e=>e.id==t.keepId))},removeVaultKeep(e,t){let a=e.vaultKeeps[t.VaultId].filter(e=>e!=t.KeepId);s["default"].set(e.vaultKeeps,t.VaultId,a),e.activeVaultId==t.VaultId&&(e.activeVaultKeeps=e.activeVaultKeeps.filter(e=>e.id!=t.KeepId))}},actions:{register({commit:e,dispatch:t},a){Q.post("Register",a).then(t=>{e("setUser",t.data),M.push({name:"home"})}).catch(e=>{console.log("[registration failed] :",e),alert(e.message)})},authenticate({commit:e,dispatch:t}){Q.get("authenticate").then(t=>{e("setUser",t.data),M.push({name:"home"})}).catch(e=>{console.log("not authenticated")})},login({commit:e,dispatch:t},a){Q.post("Login",a).then(t=>{e("setUser",t.data),M.push({name:"home"})}).catch(e=>{console.log("Login Failed: ",e),alert(e.message)})},logout({commit:e}){Q.delete("Logout").then(t=>e("logout")).catch(e=>console.error(e))},getKeeps({commit:e}){W.get("Keep").then(t=>{e("setKeeps",t.data)}).catch(e=>console.error(e))},getKeepsByTopic({commit:e},t){W.get(`Keep/search/${t}`).then(t=>{e("setSearchKeeps",t.data)}).catch(e=>console.error(e))},createKeep({commit:e},t){W.post("Keep",t).then(t=>{e("addKeep",t.data)}).catch(e=>console.error(e))},deleteKeep({dispatch:e},t){W.delete("Keep",{data:t}).then(t=>{e("getKeeps")}).catch(e=>console.error(e))},updateKeep({commit:e,dispatch:t},a){W.put("Keep",a).then(s=>{t("getKeeps"),e("updateActiveVaultKeeps",a)}).catch(e=>console.log(e))},getVaults({commit:e}){W.get("Vault").then(t=>{e("setVaults",t.data)}).catch(e=>console.error(e))},addVault({commit:e},t){W.post("vault",t).then(t=>{e("addVault",t.data)}).catch(e=>console.error(e))},deleteVault({dispatch:e},t){W.delete("Vault",{data:t}).then(t=>{e("getVaults")}).catch(e=>console.log(e))},setActiveVault({commit:e},t){e("setActiveVaultId",t),e("setActiveVaultKeeps",t)},getVaultKeeps({commit:e}){W.get("VaultKeep").then(t=>{console.log("vaultkeeps ",t.data),e("setVaultKeeps",t.data)}).catch(e=>console.error(e))},addKeepToVault({commit:e,dispatch:t,state:a},s){let r=s.vaultAdd,l=s.keepUpdate;a.vaultKeeps[r.VaultId]&&a.vaultKeeps[r.VaultId].includes(r.KeepId)?alert("This keep is already in the selected vault."):(l.keeps++,W.post("VaultKeep",r).then(a=>{t("updateKeep",l),e("addVaultKeep",a.data)}).catch(e=>console.error(e)))},removeKeepFromVault({commit:e},t){W.delete("VaultKeep",{data:t}).then(a=>{e("removeVaultKeep",t)}).catch(e=>console.error(e))}}});a("bf40"),a("d1e7");s["default"].config.productionTip=!1,s["default"].use(l.a),new s["default"]({router:M,store:X,render:e=>e(p)}).$mount("#app")},"8f59":function(e,t,a){},c21b:function(e,t,a){},c419:function(e,t,a){"use strict";var s=a("45cf"),r=a.n(s);r.a},c92c:function(e,t,a){"use strict";var s=a("d7fc"),r=a.n(s);r.a},cccb:function(e,t,a){"use strict";var s=a("8f59"),r=a.n(s);r.a},d6db:function(e,t,a){"use strict";var s=a("05b0"),r=a.n(s);r.a},d7fc:function(e,t,a){}});
//# sourceMappingURL=app.ccf61c6f.js.map